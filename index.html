<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>BigBang_PLUS — Φ ∘ 𝓛(x) → R</title>
  <style>
    :root { --bg:#0b0f14; --ink:#e6edf3; --muted:#9fb0c3; --accent:#39c0ba; --card:#111721; }
    * { box-sizing: border-box; }
    body { margin:0; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial; background:var(--bg); color:var(--ink); }
    header { padding:16px 20px; border-bottom:1px solid #1d2633; display:flex; flex-wrap:wrap; gap:12px; align-items:center; justify-content:space-between; }
    .brand { font-weight:700; letter-spacing:.3px; }
    .grid { display:grid; gap:12px; grid-template-columns: repeat(auto-fit,minmax(280px,1fr)); padding:16px; }
    .card { background:var(--card); border:1px solid #1a2230; border-radius:16px; padding:12px; box-shadow:0 1px 0 #10161e; }
    .controls { display:flex; gap:8px; flex-wrap:wrap; }
    button, select, input { background:#0f1520; color:var(--ink); border:1px solid #1d2633; border-radius:10px; padding:8px 10px; font:inherit; }
    button:hover { border-color:#2a364a; }
    .muted { color:var(--muted); font-size:12px; }
    .row { display:flex; gap:8px; align-items:center; flex-wrap:wrap; }
    canvas { width:100%; height:200px; background:#05080c; border-radius:12px; display:block; }
    .small { font-size:12px; }
    .kpi { display:flex; gap:16px; flex-wrap:wrap; }
    .kpi .box { background:#0e141e; padding:8px 10px; border-radius:8px; border:1px solid #1b2331; }
    footer { padding:12px 16px; color:#7d8da1; font-size:12px; text-align:center; border-top:1px solid #1d2633; }
    .badge { padding:2px 8px; border-radius:999px; border:1px solid #26434a; background:#0c191b; color:#6edbd5; font-size:11px; }
    .kernel { display:grid; grid-template-columns: repeat(3, 64px); gap:6px; margin-top:8px; }
    .kernel input { width:64px; text-align:center; padding:6px 4px; }
    .chart { width:100%; height:120px; background:#0a0f17; border:1px solid #1b2331; border-radius:8px; }
    .bar { height:6px; background:#14333a; border:1px solid #214e57; border-radius:6px; margin-top:8px; }
  </style>
</head>
<body>
  <header>
    <div class="brand">BigBang_PLUS <span class="badge">Φ ∘ 𝓛(x) ⟶ R</span></div>
    <div class="controls">
      <button id="startAll">Iniciar todo</button>
      <button id="pauseAll">Pausar todo</button>
      <button id="resetAll">Big Bang (reinicio)</button>
      <button id="toggleReplay">Modo Replay</button>
      <button id="exportCSV">Exportar CSV (ε/ℜ)</button>
    </div>
  </header>

  <section class="grid">
    <div class="card">
      <h3>Parámetros globales</h3>
      <div class="row">
        <label class="small">Seed base</label><input id="seed" type="number" value="1234" step="1">
        <label class="small">Grid</label><input id="grid" type="number" value="32" min="8" max="64" step="1">
        <label class="small">Velocidad</label><input id="speed" type="range" min="0.2" max="2.5" step="0.1" value="1.0">
        <select id="preset">
          <option value="entropy">Alta entropía (ℜ laxo)</option>
          <option value="rigid">Simetría rígida (𝓛 fuerte)</option>
          <option value="balance" selected>Balance Φ/𝓛</option>
          <option value="custom">Custom 𝓛(x)</option>
        </select>
      </div>
      <p class="muted">Cambios aquí se aplican en <em>tiempo real</em> a todas las cámaras (multiversos).</p>
      <div class="kpi">
        <div class="box small">ε eventos: <span id="kpiEvents">0</span></div>
        <div class="box small">ℜ resonancia (prom): <span id="kpiRes">0.00</span></div>
        <div class="box small">𝓣 tasa: <span id="kpiT">1.00x</span></div>
        <div class="box small">Frames log: <span id="kpiFrames">0</span>/240</div>
      </div>
      <div class="bar" id="bufferBar"></div>
    </div>

    <div class="card">
      <h3>Editor de 𝓛(x) — kernel 3×3 (para “Custom 𝓛(x)”)</h3>
      <div class="kernel" id="kernelGrid"></div>
      <div class="row">
        <button id="kernelNormalize">Normalizar</button>
        <button id="kernelSharpen">Enfocar</button>
        <button id="kernelSmooth">Suavizar</button>
        <span class="muted">Usa el preset “Custom 𝓛(x)” para aplicar este kernel</span>
      </div>
    </div>

    <div class="card"><h3>Cámara Φ-1</h3><canvas id="c1" width="640" height="400"></canvas><div class="chart"><canvas id="chart1" width="640" height="120"></canvas></div></div>
    <div class="card"><h3>Cámara Φ-2</h3><canvas id="c2" width="640" height="400"></canvas><div class="chart"><canvas id="chart2" width="640" height="120"></canvas></div></div>
    <div class="card"><h3>Cámara Φ-3</h3><canvas id="c3" width="640" height="400"></canvas><div class="chart"><canvas id="chart3" width="640" height="120"></canvas></div></div>
  </section>

  <footer>Modelo SOLIS — Axiomas: Ω, Φ, 𝓛, 𝓣, ℜ, ε, R (autoactualización 𝓡ₐ) | Timeline/Replay + Kernel Editor + CSV logger</footer>

  <script type="module" src="/src/main.tsx"></script>
</body>
</html>
